{
  "version": 3,
  "sources": ["../src/app/ui.ts"],
  "sourcesContent": ["// src/app/ui.ts\nimport type { PluginToUi, UiToPlugin } from './messages';\n\nconst logEl = document.getElementById('log');\nconst rawEl = document.getElementById('raw');\n\nconst exportAllChk = document.getElementById('exportAllChk');\nconst collectionSelect = document.getElementById('collectionSelect');\nconst modeSelect = document.getElementById('modeSelect');\n\nconst fileInput = document.getElementById('file');\nconst importBtn = document.getElementById('importBtn');\nconst exportBtn = document.getElementById('exportBtn');\nconst exportPickers = document.getElementById('exportPickers');\n\nconst refreshBtn = document.getElementById('refreshBtn');\n\nconst shellEl = document.querySelector('.shell');\nconst drawerToggleBtn = document.getElementById('drawerToggleBtn');\n\nconst w3cPreviewEl = document.getElementById('w3cPreview') as HTMLElement | null;\n\n\n\nfunction postResize(width: number, height: number): void {\n  var w = Math.max(720, Math.min(1600, Math.floor(width)));\n  var h = Math.max(420, Math.min(1200, Math.floor(height)));\n  postToPlugin({ type: 'UI_RESIZE', payload: { width: w, height: h } });\n}\n\nfunction autoFitOnce(): void {\n  // Measure page content\n  var contentW = Math.max(\n    document.documentElement.scrollWidth,\n    document.body ? document.body.scrollWidth : 0\n  );\n  var contentH = Math.max(\n    document.documentElement.scrollHeight,\n    document.body ? document.body.scrollHeight : 0\n  );\n\n  // Current iframe viewport size\n  var vw = window.innerWidth;\n  var vh = window.innerHeight;\n\n  // Only ask to grow the window if content overflows\n  var needsW = contentW > vw ? contentW : vw;\n  var needsH = contentH > vh ? contentH : vh;\n\n  if (needsW > vw || needsH > vh) {\n    postResize(needsW, needsH);\n  }\n}\n\n\n(function wireDragHandle() {\n  var handle = document.getElementById('resizeHandle');\n  if (!handle) return;\n\n  var dragging = false;\n  var startX = 0, startY = 0;\n  var startW = 0, startH = 0;\n  var raf = 0;\n  var loggedOnce = false;\n\n  function onMouseMove(e: MouseEvent) {\n    if (!dragging) return;\n    if (raf) return; // throttle with rAF\n    raf = window.requestAnimationFrame(function () {\n      raf = 0;\n      var dx = e.clientX - startX;\n      var dy = e.clientY - startY;\n      var targetW = startW + dx;\n      var targetH = startH + dy;\n      // Optional: one-time debug so you can see it fires\n      if (!loggedOnce) { loggedOnce = true; try { (window as any).console?.log?.('UI_RESIZE \u2192', targetW, targetH); } catch (_e) { } }\n      postResize(targetW, targetH);\n    });\n  }\n  function onMouseUp() {\n    if (!dragging) return;\n    dragging = false;\n    document.body.style.userSelect = '';\n    window.removeEventListener('mousemove', onMouseMove);\n    window.removeEventListener('mouseup', onMouseUp);\n  }\n  handle.addEventListener('mousedown', function (e) {\n    dragging = true;\n    startX = e.clientX;\n    startY = e.clientY;\n    startW = window.innerWidth;\n    startH = window.innerHeight;\n    loggedOnce = false;\n    document.body.style.userSelect = 'none'; // avoid text selection while dragging\n    window.addEventListener('mousemove', onMouseMove);\n    window.addEventListener('mouseup', onMouseUp);\n    e.preventDefault();\n  });\n})();\n\n\n\n// Keep last payload for repopulating mode list on collection change\nlet currentCollections: Array<{\n  id: string;\n  name: string;\n  modes: Array<{ id: string; name: string }>;\n  variables: Array<{ id: string; name: string; type: string }>;\n}> = [];\n\nfunction log(msg: string): void {\n  const t = new Date().toLocaleTimeString();\n  const line = document.createElement('div');\n  line.textContent = '[' + t + '] ' + msg;\n  if (logEl && logEl instanceof HTMLElement) {\n    logEl.appendChild(line);\n    logEl.scrollTop = logEl.scrollHeight;\n  }\n}\n\nfunction postToPlugin(message: UiToPlugin): void {\n  (parent as unknown as { postMessage: (m: unknown, t: string) => void }).postMessage({ pluginMessage: message }, '*');\n}\n\nfunction clearSelect(sel: HTMLSelectElement): void {\n  while (sel.options.length > 0) sel.remove(0);\n}\n\nfunction setDisabledStates(): void {\n  // Import enabled only when a file is chosen\n  if (importBtn && fileInput && importBtn instanceof HTMLButtonElement && fileInput instanceof HTMLInputElement) {\n    const hasFile = !!(fileInput.files && fileInput.files.length > 0);\n    importBtn.disabled = !hasFile;\n  }\n\n  // Export enabled when \"all\" checked, otherwise when both pickers have values\n  if (\n    exportBtn && exportAllChk && collectionSelect && modeSelect && exportPickers &&\n    exportBtn instanceof HTMLButtonElement &&\n    exportAllChk instanceof HTMLInputElement &&\n    collectionSelect instanceof HTMLSelectElement &&\n    modeSelect instanceof HTMLSelectElement &&\n    exportPickers instanceof HTMLElement\n  ) {\n    const exportAll = !!exportAllChk.checked;\n    if (exportAll) {\n      exportBtn.disabled = false;\n      exportPickers.style.opacity = '0.5';\n    } else {\n      exportPickers.style.opacity = '1';\n      const hasSelection = collectionSelect.value.length > 0 && modeSelect.value.length > 0;\n      exportBtn.disabled = !hasSelection;\n    }\n  }\n}\n\nfunction populateCollections(data: {\n  collections: Array<{\n    id: string; name: string;\n    modes: Array<{ id: string; name: string }>;\n    variables: Array<{ id: string; name: string; type: string }>;\n  }>;\n}): void {\n  currentCollections = data.collections;\n\n  if (!(collectionSelect && modeSelect)) return;\n  if (!(collectionSelect instanceof HTMLSelectElement && modeSelect instanceof HTMLSelectElement)) return;\n\n  clearSelect(collectionSelect);\n\n  let i = 0;\n  for (i = 0; i < data.collections.length; i++) {\n    const c = data.collections[i];\n    const opt = document.createElement('option');\n    opt.value = c.name;\n    opt.textContent = c.name;\n    collectionSelect.appendChild(opt);\n  }\n\n  onCollectionChange();\n}\n\nfunction onCollectionChange(): void {\n  if (!(collectionSelect && modeSelect)) return;\n  if (!(collectionSelect instanceof HTMLSelectElement && modeSelect instanceof HTMLSelectElement)) return;\n\n  const selected = collectionSelect.value;\n  clearSelect(modeSelect);\n\n  let i = 0;\n  for (i = 0; i < currentCollections.length; i++) {\n    const c = currentCollections[i];\n    if (c.name === selected) {\n      let j = 0;\n      for (j = 0; j < c.modes.length; j++) {\n        const m = c.modes[j];\n        const opt = document.createElement('option');\n        opt.value = m.name;\n        opt.textContent = m.name;\n        modeSelect.appendChild(opt);\n      }\n      break;\n    }\n  }\n\n  setDisabledStates();\n}\n\nfunction applyLastSelection(last: { collection: string; mode: string } | null): void {\n  if (!last) return;\n  if (!(collectionSelect && modeSelect)) return;\n  if (!(collectionSelect instanceof HTMLSelectElement && modeSelect instanceof HTMLSelectElement)) return;\n\n  // Collection\n  let i = 0; let found = false;\n  for (i = 0; i < collectionSelect.options.length; i++) {\n    if (collectionSelect.options[i].value === last.collection) {\n      collectionSelect.selectedIndex = i;\n      found = true;\n      break;\n    }\n  }\n\n  onCollectionChange();\n\n  // Mode\n  if (found) {\n    let j = 0;\n    for (j = 0; j < modeSelect.options.length; j++) {\n      if (modeSelect.options[j].value === last.mode) {\n        modeSelect.selectedIndex = j;\n        break;\n      }\n    }\n  }\n\n  setDisabledStates();\n}\n\nfunction prettyJson(obj: unknown): string {\n  try { return JSON.stringify(obj, null, 2); } catch (_e) { return String(obj); }\n}\n\nfunction requestPreviewForCurrent(): void {\n  if (!(collectionSelect instanceof HTMLSelectElement) || !(modeSelect instanceof HTMLSelectElement)) return;\n  const collection = collectionSelect.value || '';\n  const mode = modeSelect.value || '';\n  if (!collection || !mode) {\n    if (w3cPreviewEl) w3cPreviewEl.textContent = '{ /* select a collection & mode to preview */ }';\n    return;\n  }\n  postToPlugin({ type: 'PREVIEW_REQUEST', payload: { collection, mode } });\n}\n\n\n/* ---------- Wire UI events ---------- */\n\nif (fileInput && fileInput instanceof HTMLInputElement) {\n  fileInput.addEventListener('change', setDisabledStates);\n}\n\nif (exportAllChk && exportAllChk instanceof HTMLInputElement) {\n  exportAllChk.addEventListener('change', function () {\n    setDisabledStates();\n    postToPlugin({ type: 'SAVE_PREFS', payload: { exportAll: !!exportAllChk.checked } });\n  });\n}\n\nif (refreshBtn && refreshBtn instanceof HTMLButtonElement) {\n  refreshBtn.addEventListener('click', function () {\n    postToPlugin({ type: 'FETCH_COLLECTIONS' });\n  });\n}\n\nif (importBtn && importBtn instanceof HTMLButtonElement && fileInput && fileInput instanceof HTMLInputElement) {\n  importBtn.addEventListener('click', function () {\n    if (!fileInput.files || fileInput.files.length === 0) { log('Select a JSON file first.'); return; }\n    const reader = new FileReader();\n    reader.onload = function () {\n      try {\n        const text = String(reader.result);\n        const json = JSON.parse(text);\n        // Minimal sanity check (object, not array)\n        if (json && typeof json === 'object' && !(json instanceof Array)) {\n          postToPlugin({ type: 'IMPORT_DTCG', payload: { json: json } });\n          log('Import requested.');\n        } else {\n          log('Invalid JSON structure for tokens (expected an object).');\n        }\n      } catch (e) {\n        const msg = e instanceof Error ? e.message : String(e);\n        log('Failed to parse JSON: ' + msg);\n      }\n    };\n    reader.readAsText(fileInput.files[0]);\n  });\n}\n\nif (exportBtn && exportBtn instanceof HTMLButtonElement) {\n  exportBtn.addEventListener('click', function () {\n    let exportAll = false;\n    if (exportAllChk && exportAllChk instanceof HTMLInputElement) exportAll = !!exportAllChk.checked;\n\n    const payload: { exportAll: boolean; collection?: string; mode?: string } = { exportAll: exportAll };\n    if (!exportAll && collectionSelect && modeSelect && collectionSelect instanceof HTMLSelectElement && modeSelect instanceof HTMLSelectElement) {\n      payload.collection = collectionSelect.value;\n      payload.mode = modeSelect.value;\n      if (!(payload.collection && payload.mode)) { log('Pick collection and mode or use \"Export all\".'); return; }\n    }\n    postToPlugin({ type: 'EXPORT_DTCG', payload: payload });\n    if (exportAll) log('Export all requested.'); else log('Export requested for \"' + (payload.collection || '') + '\" / \"' + (payload.mode || '') + '\".');\n  });\n}\n\nif (drawerToggleBtn && drawerToggleBtn instanceof HTMLButtonElement) {\n  drawerToggleBtn.addEventListener('click', function () {\n    var current = drawerToggleBtn.getAttribute('aria-expanded') === 'true';\n    setDrawerOpen(!current);\n  });\n}\n\nif (collectionSelect && collectionSelect instanceof HTMLSelectElement) {\n  collectionSelect.addEventListener('change', function () {\n    onCollectionChange();\n    if (collectionSelect instanceof HTMLSelectElement && modeSelect instanceof HTMLSelectElement) {\n      postToPlugin({ type: 'SAVE_LAST', payload: { collection: collectionSelect.value, mode: modeSelect.value } });\n      requestPreviewForCurrent(); // \u2190 new\n    }\n  });\n}\n\nif (modeSelect && modeSelect instanceof HTMLSelectElement) {\n  modeSelect.addEventListener('change', function () {\n    if (collectionSelect instanceof HTMLSelectElement && modeSelect instanceof HTMLSelectElement) {\n      postToPlugin({ type: 'SAVE_LAST', payload: { collection: collectionSelect.value, mode: modeSelect.value } });\n    }\n    setDisabledStates();\n    requestPreviewForCurrent(); // \u2190 new\n  });\n}\n\n\n\nfunction setDrawerOpen(open: boolean): void {\n  if (shellEl && shellEl instanceof HTMLElement) {\n    if (open) {\n      shellEl.classList.remove('drawer-collapsed');\n    } else {\n      shellEl.classList.add('drawer-collapsed');\n    }\n  }\n  if (drawerToggleBtn && drawerToggleBtn instanceof HTMLButtonElement) {\n    drawerToggleBtn.setAttribute('aria-expanded', open ? 'true' : 'false');\n    drawerToggleBtn.textContent = open ? 'Hide' : 'Show';\n    drawerToggleBtn.title = open ? 'Hide log' : 'Show log';\n  }\n  try {\n    window.localStorage.setItem('drawerOpen', open ? '1' : '0');\n  } catch (_e) { /* ignore */ }\n}\n\nfunction getSavedDrawerOpen(): boolean {\n  try {\n    var v = window.localStorage.getItem('drawerOpen');\n    if (v === '0') return false;\n    if (v === '1') return true;\n  } catch (_e) { /* ignore */ }\n  return true; // default: open\n}\n\n\n/* ---------- Receive from plugin ---------- */\n/* ---------- Receive from plugin ---------- */\nwindow.onmessage = function (event: MessageEvent) {\n  const data: unknown = (event as unknown as { data?: unknown }).data;\n  if (!data || typeof data !== 'object') return;\n\n  let msg: PluginToUi | null = null;\n  if ((data as { pluginMessage?: unknown }).pluginMessage && typeof (data as { pluginMessage?: unknown }).pluginMessage === 'object') {\n    const maybe = (data as { pluginMessage?: unknown }).pluginMessage as { type?: string };\n    if (maybe && typeof maybe.type === 'string') {\n      msg = (data as { pluginMessage: PluginToUi }).pluginMessage;\n    }\n  }\n  if (!msg) return;\n\n  if (msg.type === 'ERROR') { log('ERROR: ' + msg.payload.message); return; }\n  if (msg.type === 'INFO') { log(msg.payload.message); return; }\n\n  if (msg.type === 'EXPORT_RESULT') {\n    for (let k = 0; k < msg.payload.files.length; k++) {\n      const f = msg.payload.files[k];\n      const a = document.createElement('a');\n      const blob = new Blob([prettyJson(f.json)], { type: 'application/json' });\n      a.href = URL.createObjectURL(blob);\n      a.download = f.name;\n      a.textContent = 'Download ' + f.name;\n      const div = document.createElement('div');\n      div.appendChild(a);\n      if (logEl && logEl instanceof HTMLElement) logEl.appendChild(div);\n    }\n    log('Export ready.');\n    return;\n  }\n\n  if (msg.type === 'W3C_PREVIEW') {\n    const header = `/* ${msg.payload.name} */\\n`;\n    if (w3cPreviewEl) w3cPreviewEl.textContent = header + prettyJson(msg.payload.json);\n    return;\n  }\n\n  // \u2190 keep only this single COLLECTIONS_DATA branch\n  if (msg.type === 'COLLECTIONS_DATA') {\n    populateCollections({ collections: msg.payload.collections });\n    if (exportAllChk && exportAllChk instanceof HTMLInputElement) {\n      exportAllChk.checked = !!msg.payload.exportAllPref;\n    }\n    if (typeof (msg.payload as any).drawerOpenPref === 'boolean') {\n      setDrawerOpen((msg.payload as any).drawerOpenPref);\n    }\n    applyLastSelection((msg.payload as any).last as { collection: string; mode: string } | null);\n    setDisabledStates();\n    requestPreviewForCurrent(); // keep preview in sync\n    return;\n  }\n\n  if (msg.type === 'RAW_COLLECTIONS_TEXT') {\n    if (rawEl && rawEl instanceof HTMLElement) rawEl.textContent = msg.payload.text;\n    return;\n  }\n};\n\n\n/* ---------- Announce ready ---------- */\ndocument.addEventListener('DOMContentLoaded', function () {\n  if (rawEl && rawEl instanceof HTMLElement) rawEl.textContent = 'Loading variable collections\u2026';\n  setDisabledStates();\n  setDrawerOpen(getSavedDrawerOpen());\n  postToPlugin({ type: 'UI_READY' });\n  // request a size that fits current content\n  autoFitOnce();\n});\n"],
  "mappings": "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",
  "names": []
}
